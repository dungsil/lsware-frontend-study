# Vue router
SPA에서 라우팅을 이용하기 위한 모듈

## SPA에서 왜?
SPA는 하나의 HTML 파일만 가지고 있고 자바스크립트를 사용하여 변경하는 방식으로
서버가 제공해주는 HTML 파일은 기본 요소를 제외하고 비어있으며 자바스크립트를 통해 페이지를 그린다.
 - vue router는 URL에 따라 어떤 페이지를 그릴 지 결정하는 역할을 한다
 

## Vue router 속성
| 이름 | 설명 |
| ---- | ---- |
| path | 라우터의 경로 |
| name | 라우터 이름 |
| component | 해당 경로를 요청받았을 때 불러올 컴포넌트 |
| components | 해당 경로를 요청받았을 때 불러올 컴포넌트**들** |
| redirect | [리다이렉트](#리다이렉트) |
| alias | [별칭](#별칭) |
| children | 중첩 라우터 |
| props | [동적 세그먼트](#동적-세그먼트)를 props 속성 주입 여부 |

## 리다이렉트
경로를 직접 지정해주거나 이름을 지정하여 리다이렉트할 수 있따.

```javascript
export default { path: '/', redirect: {  name: '/other' }} 
```

## 별칭
리다이렉트는 URL을 변경시키지만 별칭은 그대로. 포워딩 개념인 듯

## 동적 세그먼트
경로가 `/posts/1` 처럼 경로에 가지고 있는 변수를 의미하며 `:`을 사용하여 동적 세그먼트의
변수명을 지정해 줄 수 있으며 컴포넌트 내에서 `this.$route.params`로 접근할 수 있다.

```javascript
new VueRouter({
  routes: [
    { path: '/posts/:postId' } // `/posts/1` 경로에서 postId가 변수 이름 1이 값이 됨
  ]
})
```

### 동적 세그먼트의 변경
동적 세그먼트를 사용한 게시글 페이지를 이동할 때 vue router는 동일한 페이지로 인식하고 한번
로딩된 컴포넌트는 새로 로드하지 않는다. 즉 `created`, `mounted`의 라이프 사이클 훅도 호출되지 않는다.

## 네비게이션 가드
라우터에서 다른 라우터로 이동될 때 중간의 요청 후킹 기능 타이밍에 따라 before, after로 나뉜다.

### 전역가드
**beforeEach** \
라우터가 이동할 컴포넌트들을 불러오기 전 실행되는 훅

**afterEach** \
라우터가 이동이 완료된 후 호출되는 훅 `next()` 콜백이 존재하지 않음

### 라우트 가드
특정 경로에서만 실행되는 가드 리다이렉트에 주로 사용됨

**beforeEnter** \
beforeEach의 로컬버전

### 컴포넌트 가드
컴포넌트 단위로 수행되는 가드 `leave` 훅이라는 특별한 훅을 사용할 수 있음

**beforeEnter** \
라우트 가드의 그 기능과 동일 

**beforeRouteLeave** \
해당 경로에서 빠져나가기 전에 실행되는 훅으로 사용자가 저장 전에 페이지를 빠져나가는 실수등을
방지하기 위해 사용될 수 있다 `next(false)` 호출 시 페이지 이동을 하지 않는다.
